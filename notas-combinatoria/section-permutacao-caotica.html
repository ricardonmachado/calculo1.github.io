<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*       on 2021-01-25T16:32:38-03:00       *-->
<!--*   A recent stable commit (2020-08-09):   *-->
<!--* 98f21740783f166a773df4dc83cab5293ab63a4a *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="pt-BR">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>UFRPE-DM Permutações Caóticas</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://sagecell.sagemath.org/embedded_sagecell.js"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']]
    },
    asciimath2jax: {
        ignoreClass: ".*",
        processClass: "has_am"
    },
    jax: ["input/AsciiMath"],
    extensions: ["asciimath2jax.js"],
    TeX: {
        extensions: ["extpfeil.js", "autobold.js", "https://pretextbook.org/js/lib/mathjaxknowl.js", "AMScd.js", ],
        // scrolling to fragment identifiers is controlled by other Javascript
        positionToHash: false,
        equationNumbers: { autoNumber: "none", useLabelIds: true, },
        TagSide: "right",
        TagIndent: ".8em",
    },
    // HTML-CSS output Jax to be dropped for MathJax 3.0
    "HTML-CSS": {
        scale: 88,
        mtextFontInherit: true,
    },
    CommonHTML: {
        scale: 88,
        mtextFontInherit: true,
    },
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML-full"></script><script>$(function () {
    // Make *any* div with class 'sagecell-sage' an executable Sage cell
    // Their results will be linked, only within language type
    sagecell.makeSagecell({inputLocation: 'div.sagecell-sage',
                           linked: true,
                           languages: ['sage'],
                           evalButtonText: 'Evaluate (Sage)'});
});
</script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/0.13/pretext_add_on.js"></script><script xmlns:svg="http://www.w3.org/2000/svg" src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script xmlns:svg="http://www.w3.org/2000/svg">sagecellEvalName='Evaluate (Sage)';
</script><link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/pretext_add_on.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/banner_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/toc_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/knowls_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/style_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/colors_default.css" rel="stylesheet" type="text/css">
<link xmlns:svg="http://www.w3.org/2000/svg" href="https://pretextbook.org/css/0.31/setcolors.css" rel="stylesheet" type="text/css">
<!-- 2019-10-12: Temporary - CSS file for experiments with styling --><link xmlns:svg="http://www.w3.org/2000/svg" href="developer.css" rel="stylesheet" type="text/css">
</head>
<body class="mathbook-book has-toc has-sidebar-left">
<a class="assistive" href="#content">[skip-to-content]</a><div xmlns:svg="http://www.w3.org/2000/svg" class="hidden-content" style="display:none">\(\newcommand{\identity}{\mathrm{id}}
\newcommand{\notdivide}{{\not{\mid}}}
\newcommand{\notsubset}{\not\subset}
\newcommand{\lcm}{\operatorname{lcm}}
\newcommand{\gf}{\operatorname{GF}}
\newcommand{\inn}{\operatorname{Inn}}
\newcommand{\aut}{\operatorname{Aut}}
\newcommand{\Hom}{\operatorname{Hom}}
\newcommand{\cis}{\operatorname{cis}}
\newcommand{\chr}{\operatorname{char}}
\newcommand{\Null}{\operatorname{Null}}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<a id="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="part-basics.html"><span class="title">Análise Combinatória e Probabilidade:</span> <span class="subtitle">Com Aplicações no SageMath</span></a></h1>
<p class="byline">Ricardo Nunes Machado Junior, Luiz Manoel de Santana Neto</p>
</div>
</div></div>
<nav xmlns:svg="http://www.w3.org/2000/svg" id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Sumário</button><div class="tree-nav toolbar toolbar-divisor-3"><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="section-inclusao-exclusao.html" title="Anterior">Anterior</a><a id="upbutton" class="up-button button toolbar-item" href="contagem2.html" title="Acima">Acima</a><a id="nextbutton" class="next-button button toolbar-item" href="section-lemas-kaplansky.html" title="Próximo">Próximo</a></span></div>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Sumário</button><a class="previous-button toolbar-item button" href="section-inclusao-exclusao.html" title="Anterior">Anterior</a><a class="up-button button toolbar-item" href="contagem2.html" title="Acima">Acima</a><a class="next-button button toolbar-item" href="section-lemas-kaplansky.html" title="Próximo">Próximo</a>
</div>
</div></nav></header><div class="page">
<div xmlns:svg="http://www.w3.org/2000/svg" id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><ul>
<li class="link frontmatter">
<a href="frontmatter.html" data-scroll="frontmatter"><span class="title">Pré-textual</span></a><ul>
<li><a href="prof-ricardo-machado.html" data-scroll="prof-ricardo-machado">Sobre Ricardo Nunes Machado Junior</a></li>
<li><a href="prof-luiz-manoel.html" data-scroll="prof-luiz-manoel">Sobre Luiz Manoel de Santana Neto</a></li>
<li><a href="preface.html" data-scroll="preface">Prefácio</a></li>
</ul>
</li>
<li class="link">
<a href="set1.html" data-scroll="set1"><span class="codenumber">1</span> <span class="title">O básico de Conjuntos</span></a><ul><li><a href="section-1.html" data-scroll="section-1">Conjuntos</a></li></ul>
</li>
<li class="link">
<a href="sets.html" data-scroll="sets"><span class="codenumber">2</span> <span class="title">Princípios de Contagem</span></a><ul>
<li><a href="section-note-on-proofs.html" data-scroll="section-note-on-proofs">Princípio Aditivo e Princípio Multiplicativo</a></li>
<li><a href="section-permutacoes-simples.html" data-scroll="section-permutacoes-simples">Permutações Simples</a></li>
<li><a href="section-combinacoes-simples.html" data-scroll="section-combinacoes-simples">Combinações Simples</a></li>
<li><a href="section-permutacoes-circulares.html" data-scroll="section-permutacoes-circulares">Permutações Circulares</a></li>
<li><a href="section-permutacoes-com-repeticoes.html" data-scroll="section-permutacoes-com-repeticoes">Permutações com Repetições</a></li>
<li><a href="section-combinacoes-completas.html" data-scroll="section-combinacoes-completas">Combinações Completas</a></li>
</ul>
</li>
<li class="link">
<a href="contagem2.html" data-scroll="contagem2"><span class="codenumber">3</span> <span class="title">Outros Métodos de Contagem</span></a><ul>
<li><a href="section-inclusao-exclusao.html" data-scroll="section-inclusao-exclusao">Princípio da Inclusão-Exclusão</a></li>
<li><a href="section-permutacao-caotica.html" data-scroll="section-permutacao-caotica" class="active">Permutações Caóticas</a></li>
<li><a href="section-lemas-kaplansky.html" data-scroll="section-lemas-kaplansky">Os Lemas de Kaplansky</a></li>
<li><a href="section-casa-pombos.html" data-scroll="section-casa-pombos">Princípio da Casa dos Pombos</a></li>
</ul>
</li>
<li class="link">
<a href="binomial.html" data-scroll="binomial"><span class="codenumber">4</span> <span class="title">Números Binomiais</span></a><ul>
<li><a href="section-triangulo-pascal.html" data-scroll="section-triangulo-pascal">Triângulo de Pascal</a></li>
<li><a href="section-binomio-newton.html" data-scroll="section-binomio-newton">Binômio de Newton</a></li>
<li><a href="section-polinomio-leibniz.html" data-scroll="section-polinomio-leibniz">Polinômio de Leibniz</a></li>
</ul>
</li>
<li class="link">
<a href="probabilidade.html" data-scroll="probabilidade"><span class="codenumber">5</span> <span class="title">Probabilidade</span></a><ul>
<li><a href="section-espacos-probabilidade.html" data-scroll="section-espacos-probabilidade">Espaços de Probabilidade</a></li>
<li><a href="section-probabilidade-condicional.html" data-scroll="section-probabilidade-condicional">Probabilidade Condicional</a></li>
<li><a href="section-distribuicao-binomial.html" data-scroll="section-distribuicao-binomial">Distribuição Binomial</a></li>
</ul>
</li>
<li class="link"><a href="referencias.html" data-scroll="referencias"><span class="codenumber">6</span> <span class="title">Referências Bibliográficas</span></a></li>
</ul></nav><div class="extras"><nav><a class="mathbook-link" href="https://pretextbook.org">Feito com PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="pretext-content"><section xmlns:svg="http://www.w3.org/2000/svg" class="section" id="section-permutacao-caotica"><h2 class="heading hide-type">
<span class="type">Seção</span> <span class="codenumber">3.2</span> <span class="title">Permutações Caóticas</span>
</h2>
<article class="objectives goal-like" id="dEf"><h6 class="heading"><span class="type">Objetivos</span></h6>
<ol class="decimal">
<li id="li-69">Nota Histórica.</li>
<li id="li-70">Definir Permutação Caótica.</li>
<li id="li-71">Exemplificar.</li>
<li id="li-72">Definir uma função no Sage para calcular o número de permutações caóticas.</li>
</ol></article><section class="subsection" id="subsection-8"><h3 class="heading hide-type">
<span class="type">Subseção</span> <span class="codenumber">3.2.1</span> <span class="title">Nota Histórica</span>
</h3>
<p id="p-362">O célebre matemático e físico suiço, Leonhard Paul Euler (1707-1783), empenhou-se em resolver uma questão, um tanto quanto curiosa, proposta por Nicolaus Bernoulli (1687-1759), conhecida como "O PROBLEMA DAS CARTAS MAL ENDEREÇADAS"  que se fundamenta em esclarecer de quantas formas distintas pode-se colocar \(n\) cartas em \(n\) envelopes, endereçados a \(n\) destinatários diferentes, de modo que nenhuma das cartas seja colocada no envelope correto.</p>
<p id="p-363">Nessas condições, estamos perante um problema de análise combinatória, intitulado por Permutações Caóticas, também conhecida como Desarranjos ou Desordenamentos, uma Permutação em que nenhum de seus elementos estará presente no seu lugar de origem.</p>
<figure class="figure figure-like" id="figura-euler"><div class="image-box" style="width: 30%; margin-left: 35%; margin-right: 35%;"><img src="images/Euler.jpg" style="width: 100%; height: auto;" alt=""></div>
<figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">3.2.1<span class="period">.</span></span><span class="space"> </span>Leonarhd Euler, fonte: https://www.phylos.net</figcaption></figure></section><section class="subsection" id="subsection-9"><h3 class="heading hide-type">
<span class="type">Subseção</span> <span class="codenumber">3.2.2</span> <span class="title">Exemplos introdutórios</span>
</h3>
<p id="p-364">Vamos iniciar este tópico com dois exemplos para facilitar o entendimento do conceito de permutação caótica e também da demonstração.</p>
<article class="example example-like" id="example-29"><h6 class="heading">
<span class="type">Exemplo</span><span class="space"> </span><span class="codenumber">3.2.2</span><span class="period">.</span>
</h6>
<p id="p-365">Determine o número de permutações simples dos elementos \(a_1, a_2, . . . , a_n\text{,}\) nas quais \(a_2\) está na segunda posição ou \(a_3\) está em terceira posição.</p>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-38" id="solution-38"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-38"><div class="solution solution-like">
<p id="p-366">Definindo \(A_2\) como o conjunto das permutações em que \(a_2\) está em segunda posição e \(A_3\) como o conjunto das permutações em que \(a_3\) está em terceira posição, é fácil ver que</p>
<div class="displaymath">
\begin{equation*}
\#(A_{2})=\#(A_{3})=(n-1)!
\end{equation*}
</div>
<p data-braille="continuation">e que</p>
<div class="displaymath">
\begin{equation*}
\#(A_{2}\cap A_{3})=(n-2)!.
\end{equation*}
</div>
<p data-braille="continuation">Assim o número procurado nada mais é do que \(\#(A_{2} \cup A_{3})\) que é igual a:</p>
<div class="displaymath">
\begin{align*}
\#(A_2\cup A_3) = \amp ~ \#(A_2) + \#(A_3) - \#(A_2\cap A_3) \\
= \amp ~ (n-1)! + (n-1)!-(n-2)! \\
= \amp ~ 2\cdot(n-1)! - (n-2)! \\
= \amp ~ 2\cdot(n - 1)\cdot(n - 2)! - (n - 2)! \\
= \amp ~ (n-2)!\cdot(2n-2-1) \\
= \amp ~ (2n-3)\cdot(n-2)! 
\end{align*}
</div>
</div></div></article><article class="example example-like" id="exem-antes-permut-cao"><h6 class="heading">
<span class="type">Exemplo</span><span class="space"> </span><span class="codenumber">3.2.3</span><span class="period">.</span>
</h6>
<p id="p-367">Dentre as permutações simples dos \(n\) elementos \(a_1, a_2, . . . , a_n\) determine o número daquelas em que \(a_2\) não está na segunda posição, \(a_3\) não está na terceira posição e nem \(a_4\) está na quarta posição.</p>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-39" id="solution-39"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-39"><div class="solution solution-like">
<p id="p-368">Definimos \(A_i\text{,}\) para \(i = 2, 3, 4\text{,}\) como o conjunto das permutações em que \(a_i\) está no \(i\)-ésima posição, para \(i = 2, 3, 4\text{.}\) Queremos encontrar o número de elementos no complementar de \(A_2\cup A_3\cup A_4\text{.}\)</p>
<p id="p-369">As cardinalidade dos conjuntos \(A_i's\) e das interseções dos \(A_i's\text{,}\) dois a dois e três a três são:</p>
<p id="p-370">\(\#(A_2) = \#(A_3) = \#(A_4) = (n-1)!;\)</p>
<p id="p-371">\(\#(A_2\cap A_3) = \#(A_2\cap A_4) = \#(A_3\cap A_4) = (n-2)!;\)</p>
<p id="p-372">\(\#(A_2\cap A_3\cap A_4) = (n-3)!.\)</p>
<p id="p-373">Sabendo que o número total de permutações é \(n!\text{,}\) a solução para o questionamento é</p>
<div class="displaymath">
\begin{gather*}
n!-\#(A_2)-\#(A_3)-\#(A_4)+\#(A_2\cap A_3)+  \\
~~~~~~~~~~~~~ +\#(A_2\cap A_4)+\#(A_3\cap A_4)-\#(A_2\cap A_3\cap A_4)
\end{gather*}
</div>
<p data-braille="continuation">Que é igual a:</p>
<div class="displaymath">
\begin{equation*}
n!-3\times (n-1)!+3 \times (n-2)!-(n-3)! 
\end{equation*}
</div>
</div></div></article></section><section class="subsection" id="subsection-10"><h3 class="heading hide-type">
<span class="type">Subseção</span> <span class="codenumber">3.2.3</span> <span class="title">Permutações Caóticas</span>
</h3>
<article class="definition definition-like" id="definition-15"><h6 class="heading">
<span class="type">Definição</span><span class="space"> </span><span class="codenumber">3.2.4</span><span class="period">.</span>
</h6>
<p id="p-374">Uma permutação de uma lista de \(n\) elementos é chamada de <em class="emphasis">permutação caótica</em>, quando nenhum dos elementos da permutação está na posição original, ou seja, uma permutação de \(a_1,a_2, ...,a_n\)  é chamada de caótica quando nenhum dos \(a'_{i}s\) se encontra na \(i\)-ésima posição.</p>
<p id="p-375">Notação:</p>
<div class="displaymath">
\begin{equation*}
D_n \text{ ou } D(n) 
\end{equation*}
</div></article><article class="technology computation-like" id="technology-11"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">3.2.5</span><span class="period">.</span>
</h6>As permutações caóticas dos elementos \(1, 2, 3, 4\) podem ser geradas no Sage, com o seguinte comando: <div class="sagecell-sage" id="sage-24"><script type="text/x-sage">Derangements(4).list()
</script></div></article><article class="technology computation-like" id="tec-caotica-r-sage"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">3.2.6</span><span class="period">.</span>
</h6>
<p id="p-376">Todos os anagramas de AMOR, de forma que nenhuma letra fique na posição original. Troque as informações da lista para obter o número de permutações caóticas e as permutações caóticas da sua lista.</p>
<div class="sagecell-sage" id="sage-25"><script type="text/x-sage">D = Derangements(['A', 'M', 'O', 'R'])
print('número de permutações caóticas:', len(D))
print('todas as permutações caóticas:')
D.list()
</script></div></article><article class="theorem theorem-like" id="teo-pcaotica1"><h6 class="heading">
<span class="type">Teorema</span><span class="space"> </span><span class="codenumber">3.2.7</span><span class="period">.</span>
</h6>
<p id="p-377">A quantidade de permutações caóticas de um conjunto com \(n\) elementos distintos, pode ser calculada da seguinte maneira:</p>
<div class="displaymath">
\begin{equation*}
D_n=n!\cdot\sum_{i=0}^{n}\dfrac{(-1)^i}{i!}.
\end{equation*}
</div></article><article class="hiddenproof" id="proof-14"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-14"><h6 class="heading"><span class="type">Demonstração<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-14"><article class="hiddenproof"><p id="p-378">Considere todas as permutações dos elementos \(a_1 , a_2 , \ldots , a_n\text{.}\) Indicando por \(A_i\) todas as permutações formadas pelos elementos \(a_1 , a_2 , \ldots , a_n\) com \(a_i\) no \(i\)-ésimo lugar, calcularemos \(D_n\text{,}\) usando a ideia do exemplo (<a class="xref" data-knowl="./knowl/exem-antes-permut-cao.html" title="Exemplo 3.2.3">Exemplo 3.2.3</a>):</p>
<div class="displaymath">
\begin{align*}
D_n = \amp ~  n! - \sum_{i=1}^{n}\#A_i + \sum_{0\lt i\lt j\leq n}\#(A_i\cap A_j)+\cdots \\
\amp ~  \cdots  +(-1)^{n-1}\#(A_1\cap A_2\cap \cdots\cap A_n). 
\end{align*}
</div>
<p data-braille="continuation">Visto que existem \(n\) termos no primeiro somatório, \(C_n^2\) termos no segundo, \(C_n^3\) termos no terceiro,\(\cdots\text{,}\) \(C_n^n=1\) no último e</p>
<div class="displaymath">
\begin{align*}
\#(A_i) \amp =  (n-1)! \\
\#(A_i\cap A_j) \amp =  (n-2)! \\
\#(A_i\cap A_j\cap A_k) \amp =  (n-3)! \\
\vdots ~~~~~ \amp = ~~ \vdots \\
\#(A_1\cap A_2\cap\cdots\cap A_n) \amp =  1 
\end{align*}
</div>
<p data-braille="continuation">temos</p>
<div class="displaymath">
\begin{align*}
D_n \amp = ~ n!-n\cdot(n-1)!+C_n^2\cdot(n-2)!-C_n^3\cdot(n-3)!+\cdots +(-1)^n\cdot 1 \\
\amp = ~ n!-\dfrac{n!}{1!}+\dfrac{n!}{2!}-\dfrac{n!}{3!}+\cdots
+(-1)^n\cdot \dfrac{n!}{n!} 
\end{align*}
</div>
<p data-braille="continuation">evidenciando \(n!\text{,}\) obtém-se:</p>
<div class="displaymath">
\begin{align*}
D_n \amp = ~ n!\cdot\left(1-\dfrac{1}{1!}+\dfrac{1}{2!}-\dfrac{1}{3!}+\cdots+(-1)^n\cdot \dfrac{1}{n!}\right) \\
\amp = ~ n!\cdot\sum_{i=0}^{n}\dfrac{(-1)^i}{i!} 
\end{align*}
</div></article></div>
<article class="technology computation-like" id="technology-13"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">3.2.8</span><span class="period">.</span>
</h6>Calculando o número de permutações caóticas no Sage: <div class="sagecell-sage" id="sage-26"><script type="text/x-sage">def D(n):
    d = 0
    for i in range(n+1):
        d = d + (-1)^(i)*(factorial(n)/factorial(i))
    return d
D(8)
</script></div></article><article class="example example-like" id="example-31"><h6 class="heading">
<span class="type">Exemplo</span><span class="space"> </span><span class="codenumber">3.2.9</span><span class="period">.</span>
</h6>
<p id="p-379">Luiz, Cláudia, Paulo, Rodrigo e Ana brincam entre si de amigo-secreto (ou amigo-oculto). O nome de cada um é escrito em um pedaço de papel, que é colocado em uma urna. Em seguida, cada participante da brincadeira retira da urna um dos pedaços de papel, ao acaso. De quantas formas pode ocorrer a distribuição dos papéis de modo que nenhum dos participantes retire seu próprio nome?</p>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-40" id="solution-40"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-40"><div class="solution solution-like">
<p id="p-380">Uma clássica questão de permutação caótica, visto que durante a distribuição dos papéis nenhum dos participantes poderá retirar seu próprio nome. Assim o número de maneiras de ocorrer tal evento, é dado por:</p>
<div class="displaymath">
\begin{align*}
D_5 \amp = ~5!\cdot\left(1-\frac{1}{1!}+\frac{1}{2!}-\frac{1}{3!}+\frac{1}{4!}-\frac{1}{5!}\right) \\
\amp =  ~5!-5! + \frac{5!}{2!} -\frac{5!}{3!} + \frac{5!}{4!}-\frac{5!}{5!} \\
\amp =  ~5\cdot 4 \cdot 3 -5\cdot 4 + 5 - 1 \\
\amp = ~60-20+5-1 \\
\amp =  ~44 
\end{align*}
</div>
</div></div></article><article class="example example-like" id="example-32"><h6 class="heading">
<span class="type">Exemplo</span><span class="space"> </span><span class="codenumber">3.2.10</span><span class="period">.</span>
</h6>
<p id="p-381">Quantas são as permutações de \((1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\) que têm exatamente 4 elementos no seu lugar primitivo?</p>
<a data-knowl="" class="id-ref solution-knowl original" data-refid="hk-solution-41" id="solution-41"><span class="type">Solução</span></a><div class="hidden-content tex2jax_ignore" id="hk-solution-41"><div class="solution solution-like">
<p id="p-382">O número de modos de escolher os quatro elementos que ocuparão o seu lugar primitivo é \(C_{10}^4\text{.}\)</p>
<p id="p-383">Com estes elementos em seus lugares, os outros seis elementos devem ser arrumados de forma caótica. o que pode ser feito de \(D_6\) formas. A resposta é</p>
<div class="displaymath">
\begin{equation*}
C_{10}^4\times D_6 = 55650.
\end{equation*}
</div>
</div></div></article></section><section class="subsection" id="subsection-11"><h3 class="heading hide-type">
<span class="type">Subseção</span> <span class="codenumber">3.2.4</span> <span class="title">Outras formas de calcular \(D_n\)</span>
</h3>
<article class="theorem theorem-like" id="teo-pcaotica2"><h6 class="heading">
<span class="type">Teorema</span><span class="space"> </span><span class="codenumber">3.2.11</span><span class="period">.</span>
</h6>
<p id="p-384">\(D_n\) é igual ao inteiro mais próximo de \(\dfrac{n!}{e}\text{.}\)</p></article><article class="hiddenproof" id="proof-15"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-15"><h6 class="heading"><span class="type">Demonstração<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-15"><article class="hiddenproof"><p id="p-385">Para \(n=1\) e \(n=2\) a verificação é direta. Para \(n&gt;2\) vamos usar a expansão em série de portência de \(e^x\text{:}\)</p>
<div class="displaymath">
\begin{equation*}
e^x = \frac{1}{0!} + \frac{x}{1!} + \frac{x^2}{2!} + \frac{x^3}{3!}+\cdots 
\end{equation*}
</div>
<p data-braille="continuation">para \(x = -1\) temos</p>
<div class="displaymath">
\begin{equation*}
e^{-1} = \frac{1}{0!} - \frac{1}{1!} + \frac{1}{2!} - \frac{1}{3!}+\cdots 
\end{equation*}
</div>
<p data-braille="continuation">Calculando</p>
<div class="displaymath">
\begin{align*}
\left| D_n -\frac{n!}{e} \right| \amp = ~n!\times\left| \frac{(-1)^{n+1}}{(n+1)!} + \frac{(-1)^{n+2}}{(n+2)!} +\cdots \right| \\
\amp \leq n!\times \left( \frac{1}{(n+1)!} + \frac{1}{(n+2)!}+\cdots \right)   \\
\amp \leq \frac{1}{(n+1)} + \frac{1}{(n+1)(n+2)} +\cdots   \\
\amp \leq \frac{1}{(n+1)} + \frac{1}{(n+1)^2} + \cdots  
\end{align*}
</div>
<p data-braille="continuation">Aplicando a fórmula da soma da PG, ficamos com</p>
<div class="displaymath">
\begin{equation*}
\left| D_n -\frac{n!}{e} \right| \leq \frac{\frac{1}{n+1}}{1-\frac{1}{n+1}} = \frac{1}{n}\lt \frac{1}{2}.
\end{equation*}
</div></article></div>
<article class="technology computation-like" id="technology-14"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">3.2.12</span><span class="period">.</span>
</h6>Calculando o número de permutações caóticas no Sage, usando o <a class="xref" data-knowl="./knowl/teo-pcaotica2.html" title="Teorema 3.2.11">Teorema 3.2.11</a>: <div class="sagecell-sage" id="sage-27"><script type="text/x-sage">def D(n):
    t = (factorial(n)/e).n()
    r = abs(floor(t)-t)
    if r > 1/2:
        return floor(t)+1
    else:
        return floor(t)
D(8)
</script></div></article><article class="theorem theorem-like" id="teo-pcaotica3"><h6 class="heading">
<span class="type">Teorema</span><span class="space"> </span><span class="codenumber">3.2.13</span><span class="period">.</span>
</h6>
<p id="p-386">Se \(n\geq 2,\)</p>
<div class="displaymath">
\begin{equation*}
D_n = n\times D_{n-1} + (-1)^n.
\end{equation*}
</div></article><article class="hiddenproof" id="proof-16"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-16"><h6 class="heading"><span class="type">Demonstração<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-16"><article class="hiddenproof"><p id="p-387">Pelo <a class="xref" data-knowl="./knowl/teo-pcaotica1.html" title="Teorema 3.2.7">Teorema 3.2.7</a> temos</p>
<div class="displaymath">
\begin{equation*}
D_n = n!\times \left( \frac{1}{0!} - \frac{1}{1!} + \cdots + \frac{(-1)^n}{n!} \right).
\end{equation*}
</div>
<p data-braille="continuation">Isolando a última parcela da soma, ficamos com</p>
<div class="displaymath">
\begin{equation*}
D_n = n!\times \left( \frac{1}{0!} - \frac{1}{1!} + \cdots + \frac{(-1)^{n-1}}{(n-1)!} \right) + n!\times \frac{(-1)^n}{n!}.
\end{equation*}
</div>
<p data-braille="continuation">Cancelando \(n!\) do último termo e reescrevendo \(n!\) como \(n\times (n-1)!\text{,}\) obtemos</p>
<div class="displaymath">
\begin{equation*}
D_n = n\times\underbrace{(n-1)!\times \left( \frac{1}{0!} - \frac{1}{1!} + \cdots + \frac{(-1)^{n-1}}{(n-1)!} \right)}_{D_{n-1}} +  (-1)^n,
\end{equation*}
</div>
<p data-braille="continuation">Ou seja,</p>
<div class="displaymath">
\begin{equation*}
D_n = n\times D_{n-1}+(-1)^n.
\end{equation*}
</div></article></div>
<article class="technology computation-like" id="technology-15"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">3.2.14</span><span class="period">.</span>
</h6>Calculando o número de permutações caóticas no Sage, usando o <a class="xref" data-knowl="./knowl/teo-pcaotica3.html" title="Teorema 3.2.13">Teorema 3.2.13</a>: <div class="sagecell-sage" id="sage-28"><script type="text/x-sage">def D(n):
    if n==1:
        return 0
    else:
        return n*D(n-1) + (-1)^n
D(8)
</script></div></article><article class="theorem theorem-like" id="teo-pcaotica4"><h6 class="heading">
<span class="type">Teorema</span><span class="space"> </span><span class="codenumber">3.2.15</span><span class="period">.</span>
</h6>
<p id="p-388">Se \(n\geq 3,\)</p>
<div class="displaymath">
\begin{equation*}
D_n = (n-1)\times (D_{n-1}+D_{n-2}).
\end{equation*}
</div></article><article class="hiddenproof" id="proof-17"><a data-knowl="" class="id-ref proof-knowl original" data-refid="hk-proof-17"><h6 class="heading"><span class="type">Demonstração<span class="period">.</span></span></h6></a></article><div class="hidden-content tex2jax_ignore" id="hk-proof-17"><article class="hiddenproof"><p id="p-389">Vamos separar as permutações caóticas de \(1, 2, 3, \ldots, n\) em dois casos.</p>
<p id="p-390"><dfn class="terminology">1º caso:</dfn> permutações caóticas em que o elemento que ocupa o primeiro lugar tem seu lugar original ocupado pelo 1.</p>
<p id="p-391">Como temos \(n-1\) elementos, diferentes do \(1\text{,}\) para cada um deles podemos colocar o elemento na 1ª posição e o número 1 na posição deste número, ou seja, temos \(n-1\) maneiras de fazer isto. Depois disto, os outros elementos podem ser distribuídos de \(D_{n-2}\) formas.</p>
<p id="p-392"><dfn class="terminology">2º caso:</dfn> permutações caóticas em que o elemento que ocupa o primeiro lugar <dfn class="terminology">não</dfn> tem seu lugar original ocupado pelo 1.</p>
<p id="p-393">Temos \(n-1\) formas de escolher o elemento que ocupará o primeiro lugar, já que o número 1 não pode ocupar esta posição. Depois disto precisamos contar o número de maneiras de distribuir (de forma caótica) os \(n-1\) elementos nos \(n-1\) lugares, de forma que o número 1 não fique na posição original do número que está na 1ª posição. Para contar esta quantidade, podemos contar o número de permutações caóticas desses \(n-1\) elementos organizados da seguinte maneira: coloque os \(n-2\) elementos em suas posições originais e o número 1 na posição do elemento que está na 1ª posição. O número dessas permutações caóticas é \(D_{n-1}.\) <p id="p-394">Como os dois casos são excludentes e cobrem todas as possibilidades, pelo princípio aditivo, temos</p><div class="displaymath">
\begin{equation*}
D_n = (n-1)\times D_{n-2} + (n-1)\times D_{n-1} = (n-1)\times (D_{n-1}+D_{n-2}).
\end{equation*}
</div></p></article></div>
<article class="technology computation-like" id="technology-16"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">3.2.16</span><span class="period">.</span>
</h6>Calculando o número de permutações caóticas no Sage, usando o <a class="xref" data-knowl="./knowl/teo-pcaotica4.html" title="Teorema 3.2.15">Teorema 3.2.15</a>: <div class="sagecell-sage" id="sage-29"><script type="text/x-sage">def D(n):
    if n==1:
        return 0
    elif n==2:
        return 1
    else:
        return (n-1)*(D(n-1)+D(n-2))
D(8)
</script></div></article></section><section class="subsection" id="subsection-12"><h3 class="heading hide-type">
<span class="type">Subseção</span> <span class="codenumber">3.2.5</span> <span class="title">Permutações Caóticas com Repetições</span>
</h3>
<p id="p-395">Observe que a <a class="xref" data-knowl="./knowl/tec-caotica-r-sage.html" title="Tecnologia 3.2.6">Tecnologia 3.2.6</a> também faz o cálculo no caso de existirem elementos  repetidos, mas precisa listar todas as possibilidades, dependendo da quantidade de permutações o cálculo pode demorar.</p>
<p id="p-396">Esta seção ainda não está pronta, mas a <a class="xref" data-knowl="./knowl/tec-caotica-r.html" title="Tecnologia 3.2.17: Faça você mesmo">Tecnologia 3.2.17</a> já está funcionando e usa um algoritmo eficiente, fazendo o cálculo via polinômios de torre.</p>
<article class="technology computation-like" id="tec-caotica-r"><h6 class="heading">
<span class="type">Tecnologia</span><span class="space"> </span><span class="codenumber">3.2.17</span><span class="period">.</span><span class="space"> </span><span class="title">Faça você mesmo.</span>
</h6>
<figure class="figure figure-like" id="interactive-caotica-r"><p id="p-397">O número de anagramas da palavra MATEMATICA, de forma que nenhuma letra fique na posição original, ou seja, o número de permutações caóticas. Troque as informações da lista para obter o número de permutações caóticas da sua lista.</p>
<iframe id="interactive-caotica-r" width="600" height="240" src="interactive-caotica-r-if.html"></iframe><figcaption><span class="type">Figura</span><span class="space"> </span><span class="codenumber">3.2.18<span class="period">.</span></span><span class="space"> </span>Número de Permutações Caóticas podendo ter elementos repetidos.</figcaption></figure></article></section><section class="exercises" id="exercises-9"><h3 class="heading hide-type">
<span class="type">Exercícios</span> <span class="codenumber">3.2.6</span> <span class="title">Exercícios</span>
</h3>
<article class="exercise exercise-like" id="exercise-45"><h6 class="heading"><span class="codenumber">1<span class="period">.</span></span></h6>
<p id="p-398">Suponha que \(\#A=n\text{.}\) Quantas são as funções \(f:A\rightarrow A\) para as quais a equação \(f(x)=x\) não possui solução? Quantas são as funções \(f:A\rightarrow A\) <dfn class="terminology">bijetoras</dfn> para as quais a equação \(f(x)=x\) não possui solução?</p>
<div class="solutions">
<a data-knowl="" class="id-ref answer-knowl original" data-refid="hk-answer-45" id="answer-45"><span class="type">Resposta</span></a><div class="hidden-content tex2jax_ignore" id="hk-answer-45"><div class="answer solution-like"><p id="p-399">a) \((n-1)^n\text{,}\) b) \(D_n\text{.}\)</p></div></div>
</div></article><article class="exercise exercise-like" id="exercise-46"><h6 class="heading"><span class="codenumber">2<span class="period">.</span></span></h6>
<p id="p-400">Quantas são as permutações de \((1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)\) que têm exatamente 5 elementos no seu lugar primitivo?</p>
<div class="solutions">
<a data-knowl="" class="id-ref answer-knowl original" data-refid="hk-answer-46" id="answer-46"><span class="type">Resposta</span></a><div class="hidden-content tex2jax_ignore" id="hk-answer-46"><div class="answer solution-like"><p id="p-401">1468368</p></div></div>
</div></article><article class="exercise exercise-like" id="exercise-47"><h6 class="heading"><span class="codenumber">3<span class="period">.</span></span></h6>
<p id="p-402">Determine o número de permutações caóticas de \((1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)\) nas quais os números \(1, 2, 3, 4, 5\) ocupam, em alguma ordem, os cinco primeiro lugares.</p>
<div class="solutions">
<a data-knowl="" class="id-ref answer-knowl original" data-refid="hk-answer-47" id="answer-47"><span class="type">Resposta</span></a><div class="hidden-content tex2jax_ignore" id="hk-answer-47"><div class="answer solution-like"><p id="p-403">81576</p></div></div>
</div></article><article class="exercise exercise-like" id="exercise-48"><h6 class="heading"><span class="codenumber">4<span class="period">.</span></span></h6>
<p id="p-404">Uma empresa tem sete estagiárias. Cada uma delas deve cumprir três horas de trabalho semanais, sendo duas horas no turno da manhã e uma no turno da tarde. De quantas maneiras o Recursos Humanos pode montar a agenda de trabalho semanal (segunda a domingo) desses estagiárias, de modo que todas cumpram as três horas semanais, trabalhando diariamente apenas em um turno?</p>
<div class="solutions">
<a data-knowl="" class="id-ref answer-knowl original" data-refid="hk-answer-48" id="answer-48"><span class="type">Resposta</span></a><div class="hidden-content tex2jax_ignore" id="hk-answer-48"><div class="answer solution-like"><p id="p-405">9344160</p></div></div>
</div></article></section></section></div></main>
</div>
</body>
</html>
